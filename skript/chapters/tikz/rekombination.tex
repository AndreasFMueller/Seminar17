%
% planck3.tex -- Plancksches Strahlungsgesetz
%
% (c) 2017 Prof Dr Andreas MÃ¼ller, Hochschule Rapperswil
%
\documentclass[tikz]{standalone}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections}
\begin{document}
\begin{tikzpicture}[thick,scale=5]
\coordinate (O) at (0,0);

\draw[->] ({0.003*(2000-880)},0)--({0.003*(2000-1730)},0) coordinate[label = {above:$z$}];
\draw[->] ({0.003*(2000-1700)}, -0.03)--({0.003*(2000-1700)},1.1 )
	coordinate[label = {right:$X$}];

\begin{scope}
%\clip (0.2,0.75) rectangle (1.7,1.8);
\clip ({0.003*(2000-1700)},-0.05) rectangle ({0.003*(2000-900)},1.05);

\csvreader[head to column names,%
	late after head=\xdef\zold{\z}\xdef\Xold{\X},%
	after line=\xdef\zold{\z}\xdef\Xold{\X}]%
	{rekombination.csv}{}{%
	{\ifthenelse{\lengthtest{\z pt > 0.001pt}}{%
		\draw[red,line width=1.5] ({0.003*(2000-\zold)},\Xold)--({0.003*(2000-\z)},\X) node {};
	}{}};
}

\end{scope}

%\draw ({0.003*(2000 -  500)},0.02)--({0.003*(2000 -  500)},-0.02);
%\draw ({0.003*(2000 -  600)},0.02)--({0.003*(2000 -  600)},-0.02);
%\draw ({0.003*(2000 -  700)},0.02)--({0.003*(2000 -  700)},-0.02);
%\draw ({0.003*(2000 -  800)},0.02)--({0.003*(2000 -  800)},-0.02);

\draw ({0.003*(2000 -  900)},0.02)--({0.003*(2000 -  900)},-0.02);
\draw ({0.003*(2000 - 1000)},0.02)--({0.003*(2000 - 1000)},-0.02);
\node at ({0.003*(2000 - 1000)},-0.02) [below] {$1000$};
\draw ({0.003*(2000 - 1100)},0.02)--({0.003*(2000 - 1100)},-0.02);
\draw ({0.003*(2000 - 1200)},0.02)--({0.003*(2000 - 1200)},-0.02);
\node at ({0.003*(2000 - 1200)},-0.02) [below] {$1200$};
\draw ({0.003*(2000 - 1300)},0.02)--({0.003*(2000 - 1300)},-0.02);
\draw ({0.003*(2000 - 1400)},0.02)--({0.003*(2000 - 1400)},-0.02);
\node at ({0.003*(2000 - 1400)},-0.02) [below] {$1400$};
\draw ({0.003*(2000 - 1500)},0.02)--({0.003*(2000 - 1500)},-0.02);
\draw ({0.003*(2000 - 1600)},0.02)--({0.003*(2000 - 1600)},-0.02);
\node at ({0.003*(2000 - 1600)},-0.02) [below] {$1600$};
\draw ({0.003*(2000 - 1700)},0.02)--({0.003*(2000 - 1700)},-0.02);
%\draw ({0.003*(2000 - 1800)},0.02)--({0.003*(2000 - 1800)},-0.02);
%\draw ({0.003*(2000 - 1900)},0.02)--({0.003*(2000 - 1900)},-0.02);
%\draw ({0.003*(2000 - 2000)},0.02)--({0.003*(2000 - 2000)},-0.02);

\draw [line width=0.01] ({0.003*(2000 - 1374)},0.0)--({0.003*(2000 - 1374)},0.5);
\draw [line width=0.01] ({0.003*(2000 - 1700)},0.5)--({0.003*(2000 - 1374)},0.5);

\draw ({0.003*(2000 - 1700) - 0.02}, 0.1)--({0.003*(2000 - 1700) + 0.02}, 0.1);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.2)--({0.003*(2000 - 1700) + 0.02}, 0.2);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.3)--({0.003*(2000 - 1700) + 0.02}, 0.3);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.4)--({0.003*(2000 - 1700) + 0.02}, 0.4);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.5)--({0.003*(2000 - 1700) + 0.02}, 0.5);
\node at ({0.003*(2000 - 1700) - 0.02}, 0.5) [left] {$0.5$};
\draw ({0.003*(2000 - 1700) - 0.02}, 0.6)--({0.003*(2000 - 1700) + 0.02}, 0.6);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.7)--({0.003*(2000 - 1700) + 0.02}, 0.7);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.8)--({0.003*(2000 - 1700) + 0.02}, 0.8);
\draw ({0.003*(2000 - 1700) - 0.02}, 0.9)--({0.003*(2000 - 1700) + 0.02}, 0.9);
\node at ({0.003*(2000 - 1700) - 0.02}, 1.0) [left] {$1.0$};

\draw [red,fill] ({0.003*(2000 - 1374)},0.5) circle[radius=0.015];

\end{tikzpicture}
\end{document}


